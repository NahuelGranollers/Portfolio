import { useState, lazy, Suspense, type FC } from 'react';
import type { Video } from './types';
import { VIDEOS } from './constants';
import Navigation from './components/Navigation';
import Hero from './components/Hero';
import VideoGrid from './components/VideoGrid';
const FullscreenPlayer = lazy(() => import('./components/FullscreenPlayer'));
import About from './components/About';
import Services from './components/Services';
import Contact from './components/Contact';
import Footer from './components/Footer';
import BackgroundEffect from './components/BackgroundEffect';

const App: FC = () => {
 const [fullscreenVideo, setFullscreenVideo] = useState<Video | null>(null);

 const handleSelectVideo = (video: Video) => {
 setFullscreenVideo(video);
 };

 const handleCloseFullscreen = () => {
 setFullscreenVideo(null);
 };

 return (
 <div className="min-h-screen bg-brand-bg font-sans">
 {/* BackgroundEffect */}
 <BackgroundEffect />

 {/* Navigation */}
 <Navigation />

 {/* Hero Section */}
 <Hero />

 {/* Projects Section */}
 <section id="proyectos" className="py-24 px-4 sm:px-6 lg:px-8">
 <div className="max-w-7xl mx-auto">
 <div className="text-center mb-16">
 <h2 className="text-4xl sm:text-5xl font-bold text-brand-primary mb-4">
 Proyectos Destacados
 </h2>
 <p className="text-xl text-brand-text-secondary max-w-3xl mx-auto">
 Una selección de mis trabajos más recientes. Pasa el cursor para previsualizar, haz clic para ver el proyecto completo.
 </p>
 </div>

 <VideoGrid videos={VIDEOS} onSelectVideo={handleSelectVideo} />
 </div>
 </section>

 {/* About Section */}
 <About />

 {/* Services Section */}
 <Services />

 {/* Contact Section */}
 <Contact />

 {/* Footer */}
 <Footer />

 {/* Fullscreen Video Player - lazy loaded */}
 {fullscreenVideo && (
 <Suspense fallback={<div className="fixed inset-0 z-50 flex items-center justify-center">Cargando...</div>}>
 <FullscreenPlayer video={fullscreenVideo} onClose={handleCloseFullscreen} />
 </Suspense>
 )}
 </div>
 );
};

export default App;
