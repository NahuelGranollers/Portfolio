import{r as c,j as e}from"./vendor_react-Y9HpgmFa.js";import"./vendor-B8cgOX9j.js";const f=({className:t})=>e.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),y=({video:t,onClose:a})=>{const n=c.useRef(null),u=c.useRef(null),[d,p]=c.useState(!1);c.useEffect(()=>{u.current=document.activeElement;const s=r=>{var l;if(r.key==="Escape"&&a(),r.key==="Tab"){const o=(l=n.current)==null?void 0:l.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!o||o.length===0)return;const m=o[0],x=o[o.length-1];r.shiftKey?document.activeElement===m&&(x.focus(),r.preventDefault()):document.activeElement===x&&(m.focus(),r.preventDefault())}},i=r=>{n.current&&!n.current.contains(r.target)&&a()};return document.body.style.overflow="hidden",document.addEventListener("keydown",s),document.addEventListener("mousedown",i),setTimeout(()=>{var l;const r=(l=n.current)==null?void 0:l.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');r==null||r.focus()},0),()=>{var r;document.body.style.overflow="",document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i),(r=u.current)==null||r.focus()}},[a]);const b=`video/${t.videoUrl.split(".").pop()}`;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4 animate-fade-in",role:"dialog","aria-modal":"true","aria-label":`${t.title} video player`,children:e.jsxs("div",{ref:n,className:"relative w-full max-w-4xl rounded-2xl shadow-1xl p-0 md:p-8",children:[e.jsx("div",{className:"aspect-video rounded-t-2xl overflow-hidden bg-black",children:e.jsxs("video",{controls:!0,autoPlay:!0,className:"w-full h-full",children:[e.jsx("source",{src:t.videoUrl,type:b}),"Your browser does not support the video tag."]},t.id)}),e.jsxs("div",{className:"bg-brand-surface/70 backdrop-blur-2x1 border border-white/20 rounded-b-2xl p-6 md:p-8 flex flex-col gap-4 shadow-inner -mt-2",children:[e.jsx("h2",{className:"text-2xl font-extrabold mb-2 text-white",children:t.title}),t.description&&e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-brand-text-secondary text-base whitespace-pre-line mb-2 transition-all duration-300 "+(d?"":"line-clamp-3"),style:d?{}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.description}),e.jsx("button",{className:"text-brand-primary underline cursor-pointer text-sm",onClick:()=>p(s=>!s),children:d?"Ver menos":"Ver mÃ¡s"})]}),t.role&&e.jsx("p",{className:"text-brand-primary text-sm font-medium mb-1",children:t.role}),t.tools&&t.tools.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.tools.map((s,i)=>e.jsx("span",{className:"px-2 py-1 bg-brand-surface-light/70 text-brand-text-secondary text-xs rounded border border-brand-border",children:s},i))})]}),e.jsx("button",{onClick:a,className:"absolute -top-4 -right-4 md:-top-5 md:-right-5 h-10 w-10 md:h-12 md:w-12 bg-white rounded-full flex items-center justify-center text-black hover:bg-brand-primary hover:text-white transition-all duration-200 shadow-lg","aria-label":"Close video player",children:e.jsx(f,{className:"h-6 w-6"})})]})})};export{y as default};
