import{u as w,r as i,j as t}from"./index-_NbEZR4_.js";const v=({className:e})=>t.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),y=({video:e,onClose:m})=>{const{t:l}=w(),o=i.useRef(null),n=i.useRef(null),p=i.useRef(null),[x,b]=i.useState(!1),u=()=>{n.current&&(n.current.pause(),n.current.currentTime=0),m()};return i.useEffect(()=>{p.current=document.activeElement;const s=r=>{var a;if(r.key==="Escape"&&u(),r.key==="Tab"){const c=(a=o.current)==null?void 0:a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!c||c.length===0)return;const f=c[0],h=c[c.length-1];r.shiftKey?document.activeElement===f&&(h.focus(),r.preventDefault()):document.activeElement===h&&(f.focus(),r.preventDefault())}},d=r=>{o.current&&!o.current.contains(r.target)&&u()};return document.body.style.overflow="hidden",document.addEventListener("keydown",s),document.addEventListener("mousedown",d),setTimeout(()=>{var a;const r=(a=o.current)==null?void 0:a.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');r==null||r.focus()},0),()=>{var r;document.body.style.overflow="",document.removeEventListener("keydown",s),document.removeEventListener("mousedown",d),n.current&&(n.current.pause(),n.current.currentTime=0),(r=p.current)==null||r.focus()}},[m]),t.jsx("div",{className:"fixed inset-0 bg-black/55 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:t.jsxs("div",{ref:o,className:"relative w-full max-w-6xl",children:[t.jsx("div",{className:"mb-6 rounded-lg overflow-hidden shadow-2xl w-full max-w-3xl mx-auto aspect-video bg-black relative",children:t.jsxs("video",{ref:n,className:"w-full h-full object-cover",controls:!0,preload:"metadata",autoPlay:!0,loop:!0,onClick:s=>s.stopPropagation(),children:[t.jsx("source",{src:(e.videoUrl.endsWith(".webm"),e.videoUrl.replace(".webm",".mp4")),type:"video/mp4"}),t.jsx("source",{src:e.videoUrl,type:"video/webm"}),"Tu navegador no soporta video."]})}),t.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-6 shadow-xl",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4 text-brand-primary",children:l(`videos.${e.id}.title`,e.title)}),e.description&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:`text-gray-300 leading-relaxed ${!x&&"line-clamp-2"}`,children:l(`videos.${e.id}.description`,e.description)}),e.description.length>150&&t.jsx("button",{onClick:()=>b(s=>!s),className:"text-brand-primary hover:underline text-sm mt-2",children:l(x?"projects.viewLess":"projects.viewMore")})]}),e.role&&t.jsx("p",{className:"text-brand-primary font-medium mb-4",children:l(`videos.${e.id}.role`,e.role)}),e.tools&&e.tools.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:e.tools.map((s,d)=>t.jsx("span",{className:"bg-brand-surface px-3 py-1 rounded-full text-sm text-gray-300",children:s},d))})]}),t.jsx("button",{onClick:u,className:"absolute -top-4 -right-4 bg-red-500 hover:bg-red-600 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110","aria-label":l("video.close"),children:t.jsx(v,{className:"w-6 h-6"})})]})})};export{y as default};
