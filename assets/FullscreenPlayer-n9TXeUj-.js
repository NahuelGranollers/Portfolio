import{r as c,j as e}from"./vendor_react-Y9HpgmFa.js";import"./vendor-B8cgOX9j.js";const v=({className:t})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),y=t=>{var s;const i=(s=t.split(".").pop())==null?void 0:s.toLowerCase();return{mp4:"video/mp4",webm:"video/webm",mov:"video/mp4",avi:"video/mp4"}[i||""]||"video/mp4"},j=({video:t,onClose:i})=>{const o=c.useRef(null),s=c.useRef(null),m=c.useRef(null),[p,h]=c.useState(!1),u=()=>{s.current&&(s.current.pause(),s.current.currentTime=0),i()};c.useEffect(()=>{m.current=document.activeElement;const n=r=>{var l;if(r.key==="Escape"&&u(),r.key==="Tab"){const a=(l=o.current)==null?void 0:l.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!a||a.length===0)return;const x=a,f=a[a.length-1];r.shiftKey?document.activeElement===x&&(f.focus(),r.preventDefault()):document.activeElement===f&&(x.focus(),r.preventDefault())}},d=r=>{o.current&&!o.current.contains(r.target)&&u()};return document.body.style.overflow="hidden",document.addEventListener("keydown",n),document.addEventListener("mousedown",d),setTimeout(()=>{var l;const r=(l=o.current)==null?void 0:l.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');r==null||r.focus()},0),()=>{var r;document.body.style.overflow="",document.removeEventListener("keydown",n),document.removeEventListener("mousedown",d),s.current&&s.current.pause(),(r=m.current)==null||r.focus()}},[i]);const b=y(t.videoUrl);return e.jsx("div",{className:"fixed inset-0 bg-black/55 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{ref:o,className:"relative w-full max-w-6xl",children:[e.jsx("div",{className:"mb-6 rounded-lg overflow-hidden shadow-2xl",children:e.jsxs("video",{ref:s,className:"w-full max-h-[70vh] bg-black",controls:!0,preload:"metadata",autoPlay:!0,loop:!0,onClick:n=>{n.stopPropagation(),s.current&&(s.current.currentTime=0)},children:[e.jsx("source",{src:t.videoUrl,type:b}),"Your browser does not support the video tag."]})}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-6 shadow-xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-brand-primary",children:t.title}),t.description&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-gray-300 leading-relaxed ${!p&&"line-clamp-2"}`,children:t.description}),t.description.length>150&&e.jsx("button",{onClick:()=>h(n=>!n),className:"text-brand-primary hover:underline text-sm",children:p?"Ver menos":"Ver mÃ¡s"})]}),t.role&&e.jsx("p",{className:"text-brand-primary font-medium mb-4",children:t.role}),t.tools&&t.tools.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tools.map((n,d)=>e.jsx("span",{className:"bg-brand-surface px-3 py-1 rounded-full text-sm text-gray-300",children:n},d))})]}),e.jsx("button",{onClick:u,className:"absolute -top-4 -right-4 bg-red-500 hover:bg-red-600 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110","aria-label":"Cerrar reproductor",children:e.jsx(v,{className:"w-6 h-6"})})]})})};export{j as default};
