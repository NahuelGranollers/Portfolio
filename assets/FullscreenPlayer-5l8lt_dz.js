import{r as c,j as e}from"./vendor_react-Y9HpgmFa.js";import"./vendor-B8cgOX9j.js";const b=({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),v=({video:r,onClose:d})=>{const l=c.useRef(null),n=c.useRef(null),m=c.useRef(null),[f,h]=c.useState(!1),u=()=>{n.current&&(n.current.pause(),n.current.currentTime=0),d()};return c.useEffect(()=>{m.current=document.activeElement;const s=t=>{var o;if(t.key==="Escape"&&u(),t.key==="Tab"){const a=(o=l.current)==null?void 0:o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!a||a.length===0)return;const x=a[0],p=a[a.length-1];t.shiftKey?document.activeElement===x&&(p.focus(),t.preventDefault()):document.activeElement===p&&(x.focus(),t.preventDefault())}},i=t=>{l.current&&!l.current.contains(t.target)&&u()};return document.body.style.overflow="hidden",document.addEventListener("keydown",s),document.addEventListener("mousedown",i),setTimeout(()=>{var o;const t=(o=l.current)==null?void 0:o.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t==null||t.focus()},0),()=>{var t;document.body.style.overflow="",document.removeEventListener("keydown",s),document.removeEventListener("mousedown",i),n.current&&(n.current.pause(),n.current.currentTime=0),(t=m.current)==null||t.focus()}},[d]),e.jsx("div",{className:"fixed inset-0 bg-black/55 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{ref:l,className:"relative w-full max-w-6xl",children:[e.jsx("div",{className:"mb-6 rounded-lg overflow-hidden shadow-2xl relative w-full max-h-[65vh] min-h-[250px] bg-black",children:e.jsxs("video",{ref:n,className:"absolute inset-0 w-full h-full object-cover",controls:!0,preload:"metadata",autoPlay:!0,loop:!0,onClick:s=>s.stopPropagation(),style:{aspectRatio:"16/9"},children:[e.jsx("source",{src:r.videoUrl,type:"video/webm"}),"Tu navegador no soporta video."]})}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-6 shadow-xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-brand-primary",children:r.title}),r.description&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-gray-300 leading-relaxed ${!f&&"line-clamp-2"}`,children:r.description}),r.description.length>150&&e.jsx("button",{onClick:()=>h(s=>!s),className:"text-brand-primary hover:underline text-sm mt-2",children:f?"Ver menos":"Ver mÃ¡s"})]}),r.role&&e.jsx("p",{className:"text-brand-primary font-medium mb-4",children:r.role}),r.tools&&r.tools.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:r.tools.map((s,i)=>e.jsx("span",{className:"bg-brand-surface px-3 py-1 rounded-full text-sm text-gray-300",children:s},i))})]}),e.jsx("button",{onClick:u,className:"absolute -top-4 -right-4 bg-red-500 hover:bg-red-600 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110","aria-label":"Cerrar reproductor",children:e.jsx(b,{className:"w-6 h-6"})})]})})};export{v as default};
