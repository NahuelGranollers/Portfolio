import{u as w,a as i,j as e}from"./vendor_react-DKE70u0m.js";import"./vendor-vZY7UPzV.js";const v=({className:t})=>e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),g=({video:t,onClose:m})=>{const{t:o}=w(),l=i.useRef(null),n=i.useRef(null),x=i.useRef(null),[f,b]=i.useState(!1),u=()=>{n.current&&(n.current.pause(),n.current.currentTime=0),m()};return i.useEffect(()=>{x.current=document.activeElement;const s=r=>{var a;if(r.key==="Escape"&&u(),r.key==="Tab"){const c=(a=l.current)==null?void 0:a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!c||c.length===0)return;const p=c[0],h=c[c.length-1];r.shiftKey?document.activeElement===p&&(h.focus(),r.preventDefault()):document.activeElement===h&&(p.focus(),r.preventDefault())}},d=r=>{l.current&&!l.current.contains(r.target)&&u()};return document.body.style.overflow="hidden",document.addEventListener("keydown",s),document.addEventListener("mousedown",d),setTimeout(()=>{var a;const r=(a=l.current)==null?void 0:a.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');r==null||r.focus()},0),()=>{var r;document.body.style.overflow="",document.removeEventListener("keydown",s),document.removeEventListener("mousedown",d),n.current&&(n.current.pause(),n.current.currentTime=0),(r=x.current)==null||r.focus()}},[m]),e.jsx("div",{className:"fixed inset-0 bg-black/55 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{ref:l,className:"relative w-full max-w-6xl",children:[e.jsx("div",{className:"mb-6 rounded-lg overflow-hidden shadow-2xl w-full max-w-3xl mx-auto aspect-video bg-black relative",children:e.jsxs("video",{ref:n,className:"w-full h-full object-cover",controls:!0,preload:"metadata",autoPlay:!0,loop:!0,onClick:s=>s.stopPropagation(),children:[e.jsx("source",{src:t.videoUrl,type:"video/webm"}),"Tu navegador no soporta video."]})}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-6 shadow-xl",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-brand-primary",children:o(`videos.${t.id}.title`,t.title)}),t.description&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-gray-300 leading-relaxed ${!f&&"line-clamp-2"}`,children:o(`videos.${t.id}.description`,t.description)}),t.description.length>150&&e.jsx("button",{onClick:()=>b(s=>!s),className:"text-brand-primary hover:underline text-sm mt-2",children:o(f?"projects.viewLess":"projects.viewMore")})]}),t.role&&e.jsx("p",{className:"text-brand-primary font-medium mb-4",children:o(`videos.${t.id}.role`,t.role)}),t.tools&&t.tools.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tools.map((s,d)=>e.jsx("span",{className:"bg-brand-surface px-3 py-1 rounded-full text-sm text-gray-300",children:s},d))})]}),e.jsx("button",{onClick:u,className:"absolute -top-4 -right-4 bg-red-500 hover:bg-red-600 text-white rounded-full p-3 shadow-lg transition-all hover:scale-110","aria-label":o("video.close"),children:e.jsx(v,{className:"w-6 h-6"})})]})})};export{g as default};
